<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Sentinel-2 Bare Earth Mosaics | Earth.etc </title> <meta name="author" content="Muhamad Nasir Lukman"> <meta name="description" content="First trial to build Sentinel-2 bare earth mosaics for Indonesia in Earth Engine"> <meta name="keywords" content="remote sensing, gis, image analysis, machine learning, geology, earth science, earth observation, geophysics, planetary science, satelite"> <meta property="og:site_name" content="Earth.etc"> <meta property="og:type" content="article"> <meta property="og:title" content="Earth.etc | Sentinel-2 Bare Earth Mosaics"> <meta property="og:url" content="https://nasirlukman.github.io/blog/2025/bare-earth/"> <meta property="og:description" content="First trial to build Sentinel-2 bare earth mosaics for Indonesia in Earth Engine"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Sentinel-2 Bare Earth Mosaics"> <meta name="twitter:description" content="First trial to build Sentinel-2 bare earth mosaics for Indonesia in Earth Engine"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Muhamad Nasir Lukman"
        },
        "url": "https://nasirlukman.github.io/blog/2025/bare-earth/",
        "@type": "BlogPosting",
        "description": "First trial to build Sentinel-2 bare earth mosaics for Indonesia in Earth Engine",
        "headline": "Sentinel-2 Bare Earth Mosaics",
        
        "sameAs": ["https://github.com/nasirlukman", "https://www.linkedin.com/in/nasirlukman"],
        
        "name": "Muhamad Nasir Lukman",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8C%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://nasirlukman.github.io/blog/2025/bare-earth/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Earth.etc </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/post/index.html">post </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Sentinel-2 Bare Earth Mosaics</h1> <p class="post-meta"> February 19, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/remote-sensing"> <i class="fa-solid fa-hashtag fa-sm"></i> remote_sensing,</a>   <a href="/blog/tag/soil"> <i class="fa-solid fa-hashtag fa-sm"></i> soil,</a>   <a href="/blog/tag/geology"> <i class="fa-solid fa-hashtag fa-sm"></i> geology,</a>   <a href="/blog/tag/data-science"> <i class="fa-solid fa-hashtag fa-sm"></i> data_science,</a>   <a href="/blog/tag/multispectral"> <i class="fa-solid fa-hashtag fa-sm"></i> multispectral</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>As a tropical country, Indonesia faces challenges in using optical remote sensing data for soil and geological analysis due to extensive vegetation cover. According to the Indonesia Land Use/Land Cover (LULC) Map of 2019, only 1.8% of the land is classified as bare land. However, a significant portion of vegetated area (38.2%) consists of agricultural land. During land use changes, particularly in the early stages of agricultural development, land clearing exposes the bare soil. Additionally, many agricultural areas follow cultivation cycles, periodically revealing the soil beneath.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/post_6_landuse_chart-480.webp 480w,/assets/img/post_6_landuse_chart-800.webp 800w,/assets/img/post_6_landuse_chart-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/post_6_landuse_chart.png" class="img-fluid rounded" width="100%" height="auto" alt="Donut chart showing the percentage of land use types in Indonesia, reclassified from the Indonesia Land Use/Land Cover (LULC) Map 2019, highlighting bare land, agriculture, forest, and other land cover categories." onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Image 1. Indonesia Land Use percetage, reclassified from Indonesia LULC Map 2019. </div> <p>By leveraging dense time-series satellite images, we can generate a bare earth mosaic, which combines pixels from different acquisition times to maximize the exposure of the ground surface. <a href="https://www.eftf.ga.gov.au/case-study/sentinel-2-reveals-barest-earth" rel="external nofollow noopener" target="_blank">Geoscience Australia</a> has created such maps for the entire continent using Landsat and Sentinel-2 images. Inspired by this, I recently experimented with a method to build a bare earth mosaic for Indonesia using Google Earth Engine.</p> <h2 id="approach">Approach</h2> <p>This approach selects only the driest, non-vegetated pixels from the time-series collection while masking out permanently vegetated, wet, and built-up areas. The process involves:</p> <ol> <li> <p>Cloud Masking: Cloudmasking using <a href="https://developers.google.com/earth-engine/tutorials/community/sentinel-2-s2cloudless" rel="external nofollow noopener" target="_blank">s2Cloudless</a></p> </li> <li> <p>Pixel Filtering: Using various spectral indices for vegetation, water, and soil to exclude unwanted pixels.</p> </li> <li> <p>Geometric Median Computation: Calculating the geometric median of the remaining pixels to minimize noise and cloud contamination.</p> </li> <li> <p>Final Masking: Removing residual built-up areas using LULC maps.</p> </li> </ol> <p>The resulting image is a bare earth mosaic, highlighting exposed soil and geological features. For visualization purpose, masked vegetation, water, and built-up pixels can be reintroduced.</p> <h2 id="comparison-with-standard-cloudless-mosaics">Comparison with Standard Cloudless Mosaics</h2> <p>The images below compare a standard cloudless mosaic with a bare earth mosaic derived from Sentinel-2 images. The latter effectively selects the barest pixels within agricultural areas and built-up zones.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/post_6_agriculture-480.webp 480w,/assets/img/post_6_agriculture-800.webp 800w,/assets/img/post_6_agriculture-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/post_6_agriculture.png" class="img-fluid rounded" width="100%" height="auto" alt="Side-by-side comparison of a standard cloudless mosaic and a bare earth mosaic over agricultural land, showcasing how the bare earth mosaic better highlights exposed soil within agricultural areas." onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Image 2. Comparison between cloudless mosaic and bare earth mosaic in agriculural land. </div> <p>This method also reveals earth surfaces in permanently forested areas, such as landslide-exposed soil and sandbars in rivers during droughts or after heavy rainfall, when sediment is deposited.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/post_6_river_and_landslide-480.webp 480w,/assets/img/post_6_river_and_landslide-800.webp 800w,/assets/img/post_6_river_and_landslide-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/post_6_river_and_landslide.png" class="img-fluid rounded" width="100%" height="auto" alt="Side-by-side comparison of a cloudless mosaic and a bare earth mosaic, showing additional features like exposed riverbeds and soil in landslide areas, visible in the bare earth mosaic." onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Image 3. Comparison between cloudless mosaic and bare earth mosaic showing additional in river and landslide. </div> <h2 id="applications-and-challenges">Applications and Challenges</h2> <p>For further geological and soil analysis, it is best to use the masked image. For example in the image below, a simple false color-composite already show:</p> <ol> <li> <p>Soil composition variations in southern hills (greensih color), with some material transported north via river systems.</p> </li> <li> <p>Differences between eastern (yellowish) and western plains (orange).</p> </li> <li> <p>Distinct compositions within mining pits (very bright color).</p> </li> </ol> <p>This color composite highlight the potential of bare earth moscais for geological/soil analysis.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/post_6_false_color-480.webp 480w,/assets/img/post_6_false_color-800.webp 800w,/assets/img/post_6_false_color-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/post_6_false_color.png" class="img-fluid rounded" width="100%" height="auto" alt="Comparison of a cloudless mosaic, bare earth mosaic, and false color composite of the masked bare earth mosaic, with a focus on identifying soil composition variations, river sediment transport, and distinct material compositions within mining pits." onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Image 4. Cloudless composite, and bare earth composite, and false color of masked bare earth composite for analysis and interpretation. </div> <p>The main challenge in generating a nationwide bare earth composite for Indonesia is scalability. My current approach exceeds Google Earth Engine’s computational limits when applied at scale. To overcome this, I need to optimize the process or split the computation into hundreds of smaller patches.</p> <p>This is an ongoing experiment, and I hope to refine the method further. If you have suggestions or insights, please feel free to share!</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/OBIA-LULC/">Multi Sensor Object Based Image Classification for Land Use/Land Cover Analysis</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/illegal-mining/">Illegal Mining From Space</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/EDA/">Exploratory Data Analysis (EDA) for Hyperspectral Imagery</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/distance/">Different Distance Metrics Example in Spectral Unmixing</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/sentinel1-change-detection/">Sentinel 1 Change Detection for Forest Monitoring</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Muhamad Nasir Lukman. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: May 05, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?906085072389244b4db0c89c5b1dd28d" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-NY818B7N0G"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NY818B7N0G");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>